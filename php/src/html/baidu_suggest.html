<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>baidu_suggest</title>
	<link rel="stylesheet" href="css/bootstrap.css">
	<style>	
		.input-group .btn-success{background-color: #58bc58;color:#fff;}
	</style>
	<script type="text/javascript">
		document.addEventListener('DOMContentLoaded',()=>{
			var keyword = document.querySelector('#keyword');
			var btnSearch = document.querySelector('.btnSearch');
			var suggest = document.querySelector('#suggest');

			window.getData = function(data){console.log(data);
				suggest.innerHTML = data.s.map(function(item){
					return `<option>${item}</option>`;
				}).join('');
			}

			var timer;
			keyword.oninput = function(){
				var _keyword = keyword.value;
				clearTimeout(timer);
				timer = setTimeout(()=>{
					var script = document.createElement('script');
					script.src = 'https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su?json=1&cb=getData&wd='+_keyword;
					document.body.appendChild(script);console.log(script)
				},500)
				
			}
		})

	</script>
</head>
<body>
	<div class="container">
		<h1>山寨百度</h1>
		<div class="form-group has-success has-feedback">
		  <div class="input-group">
		    <input type="text" class="form-control" id="keyword" list="suggest">
		    <span class="input-group-addon btn btn-success btnSearch">搜索</span>
		  </div>
		</div>

		<datalist id="suggest" class="list-group">
			
		</datalist>
	</div>
</body>
</html>